<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>register</title>
<link rel="stylesheet" href="css/bootstrap.min.css">
<script src="js/jquery-3.5.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<style type="text/css">
	.form-control{
		max-width: 300px;
		margin: 0 auto;
	}
	</style>
</head>
<body style="background-color: #f2f2f2">
	<div class="container" style="width: 60%;margin-top: 100px;padding: 30px;background-color: #ffffff;max-width: 450px;border:1px solid #18A9E4;">
		<h2 style="text-align: center;">注册</h2>
<form id="registerForm" class="form-horizontal" role="form" name="loginForm" method="post" style="margin-top: 50px">
	<div class="form-group">
		<input type="text" class="form-control" id="username"  placeholder="请输入用户名">
	</div>
	<div class="form-group">
		<input type="password" class="form-control"  id="password"  placeholder="请输入密码">
	</div>
	<div class="form-group">
		<input type="password" class="form-control"  id="repassword"  placeholder="请再次输入密码">
	</div>
	<div style="margin-top: 30px">
		<button id="registerButton" class="btn btn-default" style="background: #2A89D7;color:#ffffff;display:block;margin:0 auto" onclick="register()">注册
		</button>
	</div>
	<a href="login.html" style="color: #666;float: right;">登录</a>
</form>
</div>
</body>
<script type="text/javascript">
	function register(){
		let username=document.getElementById("username").value;
		let password=document.getElementById("password").value;
		let repassword=document.getElementById("repassword").value;
		if(password.length<8 || password.length>32){
                alert("请输入8~32位的密码");
            	return;
            }
		else if(password!==repassword){
			alert("两次输入的密码不一致");
			return;
		}
		register_backend(username,password);
	}
	//模拟后端注册请求
	function register_backend(username,password){
		if(typeof(Storage)=="undefined"){
			alert("浏览器不支持Web Storage");
			return;
		}
		if(username==null||username==""){
			alert("请输入用户名");
			return;
		}
		username="user_"+username;
		if(localStorage.getItem(username)!==null){
			alert("用户名重复");
			return;
		}
		localStorage.setItem(username,password);
		alert("注册成功");
		return window.location.href="login.html";
	}
</script>
</html>